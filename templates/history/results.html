{% extends "_layouts/menu.html" %}

{% block page_title %}{{ history_object.tool }} results - Evaluation System{% endblock %}
{% block page_class %}home-page{% endblock %}
{% block content %}
<!-- This code is taken from http://twitter.github.com/bootstrap/examples/hero.html -->

       


    <div class="container">
      <!-- Example row of columns -->
      <div class="row">
	      <div class="col-md-12">
	      	<h1>{{ history_object.tool }}</h1>
	      	<p>Analysis from {{ history_object.timestamp|date:"d.m.y H:i:s" }} done by <a href="{% url 'history:history' %}?uid={{history_object.uid}}">{{history_object.uid}}</a></p>
	      </div>
      </div>
      
      {% if file_content %}
      <script>
      function doUpdate() {
		  var tailServiceUrl = '{% url 'history:tailFile' history_object.id}';
		  $.ajax({type: "GET", url : tailServiceUrl,
		          success: function (data) {
		             if (data.length > 0)
		             {
		                var output = '';
		                console.log(data)
		                $.each(data, function(index,value){
		                	output += value;
		                });
		                $("#logOutputDiv").append(output);
		                $('#logOutputDiv').stop().animate({
						  scrollTop: $("#logOutputDiv")[0].scrollHeight
						}, 800);
		             }
		             setTimeout("doUpdate()", 2000);
		           }});
		}
		setTimeout("doUpdate()", 2000);
		</script>
      
	      <div class="row">
	        <div class="col-md-12">
	        	<p>The tool is still running. Here you can see the output:</p>
		        <div id="logOutputDiv" class="well well-lg" style="height:450px; overflow-y:scroll; overflow-x: hidden;">
	
		        {% for line in file_content %}
		        
		        	{{line}}<br>
		        
		        {%endfor%}
		        
		        </div>
	        </div>
	      </div>
	      
	  {%else%}
	 	 <div class="row">
	 	 	<div class="col-md-12">
	 	 		<a class="btn btn-primary" onClick="toogleConfig('config_table');" id="config_button">Show configuration</a>
	 	 	</div>
	 	 	<div class="col-md-12">
		 	 	<table class="table col-md-12" id="config_table" style="display:none; margin-top:10px;">
		 	 	{% for key,value in history_object.config_dict.items %}
		 	 		<tr>
		 	 			<td>{{key}}:</td>
		 	 			<td>{{value}}</td>
		 	 		</tr>
		 	 	{% endfor %}
		 	 	</table>
	 	 	</div>
	 	 	
	 	 	<div class="col-md-12">
	 	 		<h2>Results</h2>
	 	 	</div>
	        <div class="col-md-3">
	        	<a rel="gallery1" class="thumbnail fancybox" href="{{ STATIC_URL }}images/6_9_BASELINE0_MPI-ESM-LR_output1_conditional_bias.nc_masked.eps.png" title="6_9_BASELINE0_MPI-ESM-LR_output1_conditional_bias.nc_masked.eps.png">
					<img src="{{ STATIC_URL }}images/6_9_BASELINE0_MPI-ESM-LR_output1_conditional_bias.nc_masked.eps.png" alt="" />
				</a>
			</div>
			<div class="col-md-3">
				<a rel="gallery1" class="thumbnail fancybox" href="{{ STATIC_URL }}images/6_9_BASELINE0_MPI-ESM-LR_output1_correlation.nc_masked.eps.png" title="6_9_BASELINE0_MPI-ESM-LR_output1_correlation.nc_masked.eps.png">
					<img src="{{ STATIC_URL }}images/6_9_BASELINE0_MPI-ESM-LR_output1_correlation.nc_masked.eps.png" alt="" />
				</a>
			</div>
			<div class="col-md-3">
				<a rel="gallery1" class="thumbnail fancybox" href="{{ STATIC_URL }}images/6_9_BASELINE0_MPI-ESM-LR_output1_msss.nc_masked.eps.png" title="6_9_BASELINE0_MPI-ESM-LR_output1_msss.nc_masked.eps.png">
					<img src="{{ STATIC_URL }}images/6_9_BASELINE0_MPI-ESM-LR_output1_msss.nc_masked.eps.png" alt="" />
				</a>
			</div>
			<div class="col-md-3">
				<a rel="gallery1" class="thumbnail fancybox" href="{{ STATIC_URL }}images/6_9_BASELINE0_MPI-ESM-LR_output1_rmss.nc_masked.eps.png" title="6_9_BASELINE0_MPI-ESM-LR_output1_rmss.nc_masked.eps.png">
					<img src="{{ STATIC_URL }}images/6_9_BASELINE0_MPI-ESM-LR_output1_rmss.nc_masked.eps.png" alt="" />
				</a>
			</div>
			<div class="col-md-3">
				<a rel="gallery1" class="thumbnail fancybox" href="{{ STATIC_URL }}images/6_9_BASELINE1_MPI-ESM-LR_output_conditional_bias.nc_masked.eps.png" title="6_9_BASELINE1_MPI-ESM-LR_output_conditional_bias.nc_masked.eps.png">
					<img src="{{ STATIC_URL }}images/6_9_BASELINE1_MPI-ESM-LR_output_conditional_bias.nc_masked.eps.png" alt="" />
				</a>
			</div>
			<div class="col-md-3">
				<a rel="gallery1" class="thumbnail fancybox" href="{{ STATIC_URL }}images/6_9_BASELINE1_MPI-ESM-LR_output_correlation.nc_masked.eps.png" title="6_9_BASELINE1_MPI-ESM-LR_output_correlation.nc_masked.eps.png">
					<img src="{{ STATIC_URL }}images/6_9_BASELINE1_MPI-ESM-LR_output_correlation.nc_masked.eps.png" alt="" />
				</a>
			</div>
			<div class="col-md-3">
				<a rel="gallery1" class="thumbnail fancybox" href="{{ STATIC_URL }}images/6_9_BASELINE1_MPI-ESM-LR_output_msss.nc_masked.eps.png" title="6_9_BASELINE1_MPI-ESM-LR_output_msss.nc_masked.eps.png">
					<img src="{{ STATIC_URL }}images/6_9_BASELINE1_MPI-ESM-LR_output_msss.nc_masked.eps.png" alt="" />
				</a>
			</div>
			<div class="col-md-3">
				<a rel="gallery1" class="thumbnail fancybox" href="{{ STATIC_URL }}images/6_9_BASELINE1_MPI-ESM-LR_output_rmss.nc_masked.eps.png" title="6_9_BASELINE1_MPI-ESM-LR_output_rmss.nc_masked.eps.png">
					<img src="{{ STATIC_URL }}images/6_9_BASELINE1_MPI-ESM-LR_output_rmss.nc_masked.eps.png" alt="" />
				</a>
			</div>
			<div class="col-md-3">
				<a rel="gallery1" class="thumbnail fancybox" href="{{ STATIC_URL }}images/6_9BASELINE1_MPI-ESM-LR_outputvsBASELINE0_MPI-ESM-LR_output1_conditional_bias.nc_masked.eps.png" title="6_9BASELINE1_MPI-ESM-LR_outputvsBASELINE0_MPI-ESM-LR_output1_conditional_bias.nc_masked.eps.png">
					<img src="{{ STATIC_URL }}images/6_9BASELINE1_MPI-ESM-LR_outputvsBASELINE0_MPI-ESM-LR_output1_conditional_bias.nc_masked.eps.png" alt="" />
				</a>
			</div>
			<div class="col-md-3">
				<a rel="gallery1" class="thumbnail fancybox" href="{{ STATIC_URL }}images/6_9BASELINE1_MPI-ESM-LR_outputvsBASELINE0_MPI-ESM-LR_output1_correlation.nc_masked.eps.png" title="6_9BASELINE1_MPI-ESM-LR_outputvsBASELINE0_MPI-ESM-LR_output1_correlation.nc_masked.eps.png">
					<img src="{{ STATIC_URL }}images/6_9BASELINE1_MPI-ESM-LR_outputvsBASELINE0_MPI-ESM-LR_output1_correlation.nc_masked.eps.png" alt="" />
				</a>
			</div>
			<div class="col-md-3">
				<a rel="gallery1" class="thumbnail fancybox" href="{{ STATIC_URL }}images/6_9BASELINE1_MPI-ESM-LR_outputvsBASELINE0_MPI-ESM-LR_output1_msss.nc_masked.eps.png" title="6_9BASELINE1_MPI-ESM-LR_outputvsBASELINE0_MPI-ESM-LR_output1_msss.nc_masked.eps.png">
					<img src="{{ STATIC_URL }}images/6_9BASELINE1_MPI-ESM-LR_outputvsBASELINE0_MPI-ESM-LR_output1_msss.nc_masked.eps.png" alt="" />
				</a>
			</div>
			<div class="col-md-3">
				<a rel="gallery1" class="thumbnail fancybox" href="{{ STATIC_URL }}images/6_9_BASELINE1_output_vs_BASELINE0_output1_rmss.nc_masked.eps.png" title="6_9_BASELINE1_output_vs_BASELINE0_output1_rmss.nc_masked.eps.png">
					<img src="{{ STATIC_URL }}images/6_9_BASELINE1_output_vs_BASELINE0_output1_rmss.nc_masked.eps.png" alt="" />
				</a>
			</div>

	     </div>
	  </div>       
	  
	  	<script>
	  	function toogleConfig(id){
	  		
	  		if($('#'+id).is(":hidden")){
	  			$('#'+id).show();
	  			$('#config_button').html('Hide configuration');
	  		}else{
	  		  	$('#'+id).hide();
	  		  	$('#config_button').html('Show configuration');
	  		}
	  	}
	  	
		$(document).ready(function() {
			$(".fancybox").fancybox({
				openEffect	: 'none',
				closeEffect	: 'none'
			});
		});
		</script>

	  {%endif%}





{% endblock %}